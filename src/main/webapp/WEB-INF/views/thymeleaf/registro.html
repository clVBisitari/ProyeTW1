<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AssistPyme - Registro</title>
    <!-- custom style -->
    <link rel="stylesheet" th:href="@{/css/main.css}"/>
    <link rel="stylesheet" th:href="@{/css/registro.css}"/>
</head>
<body class="login__body">
<aside class="login__aside"></aside>
<main class="login__main">
    <div class="login__content">
        <h1 class="login__h1">Regístrate en AssistPyme</h1>
        <h2 class="login__h2">
            Crea una cuenta para gestionar tus finanzas, colaborar en proyectos y hacer crecer tus inversiones
        </h2>
        <form id="userForm" class="login__form" action="#" th:action="@{/registrarme}" method="post">
            <fieldset class="login__fieldset">
                <label class="login__label" for="repeat">Nombre</label>
                <input class="login__input" type="text" id="nombre" name="nombre" minlength="2" maxlength="50" required><br><br>
            </fieldset>
            <fieldset class="login__fieldset"></fieldset>
                <label class="login__label" for="repeat">Apellido</label>
                <input class="login__input" type="text" id="apellido" name="apellido" minlength="2" maxlength="50" required><br><br>
            </fieldset>
            <fieldset class="login__fieldset"></fieldset>
                <label class="login__label" for="repeat">Dni</label>
                <input class="login__input" type="text" id="dni" name="dni" minlength="8" maxlength="8" required><br><br>
            </fieldset>
            <fieldset class="login__fieldset">
                <label class="login__label" for="username">Usuario:</label>
                <input class="login__input" id="username" name="email" type="email" minlength="6" required />
            </fieldset>
            <fieldset class="login__fieldset">
                <label class="login__label" for="password">Contraseña:</label>
                <input class="login__input" id="password" name="password" type="password" minlength="3" maxlength="15" required />
            </fieldset>
            <fieldset class="login__fieldset">
                <label class="login__label" for="repeat">Repetir contraseña:</label>
                <input class="login__input" type="password" id="repeat" name="repeat" minlength="3" maxlength="15" required><br><br>
            </fieldset>
        
            <button class="button__primary" type="submit">Crear cuenta</button>
        </form>

        <aside class="login__register">
            <p class="login__text">¿Ya tienes una cuenta? <a class="login__link" th:href="@{/}">Iniciar sesión</a></p>
        </aside>
    </div>
</main>
<script>
    document.getElementById('userForm').addEventListener('submit', function(event) {
        var password = document.getElementById('password').value;
        var confirmPassword = document.getElementById('repeat').value;

        // Validación de longitud del password
        if (password.length < 3 || password.length > 15) {
            alert('El password debe tener entre 3 y 15 caracteres.');
            event.preventDefault();  // Evita el envío del formulario
            return;
        }

        // Validación de que ambas contraseñas coincidan
        if (password !== confirmPassword) {
            alert('Las contraseñas no coinciden.');
            event.preventDefault();  // Evita el envío del formulario
        }
    });
</script>
</body>
</html>
